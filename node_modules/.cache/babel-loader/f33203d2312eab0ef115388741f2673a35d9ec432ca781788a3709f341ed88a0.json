{"ast":null,"code":"import React,{useState,useEffect,useTransition}from\"react\";import List from\"./List\";import Alert from\"./Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const getlocalstorage=()=>{const data=localStorage.getItem(\"list\");if(data){return JSON.parse(data);}else{return[];}};const[name,setName]=useState(\"\");const[list,setList]=useState(getlocalstorage);const[isEditing,setIsEditing]=useState(false);const[editID,setEditID]=useState(null);const[alert,setAlert]=useState({show:false,msg:\"\",type:\"\"});const editeItem=id=>{const specificItem=list.find(item=>item.id==id);setEditID(id);setIsEditing(true);setName(specificItem.title);};const handleSubmit=e=>{e.preventDefault();if(!name){// show alert\nshowAlert(true,\"danger\",\"Please Enter Something.\");}else if(name&&isEditing){// deal with editmode\nsetList(list.map(item=>{if(item.id===editID){return{...item,title:name};}return item;}));setAlert(true,\"success\",\"item is updated.\");setEditID(null);setIsEditing(false);setName(\"\");}else{//show alert\nshowAlert(true,\"success\",\"\".concat(name,\" just added to the list\"));const newItem={id:new Date().getTime().toString(),title:name};setList([...list,newItem]);setName(\"\");}};const showAlert=function(){let show=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"\";let msg=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";setAlert({show,type,msg});};const clearList=()=>{showAlert(true,\"danger\",\"list is cleared.\");setList([]);setName(\"\");setEditID(null);setIsEditing(false);};const removeItem=id=>{showAlert(true,\"danger\",\"item is removed\");setList(list.filter(item=>item.id!=id));setName(\"\");};useEffect(()=>{localStorage.setItem(\"list\",JSON.stringify(list));},[list]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"section\",{className:\"section-center\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"grocery-form\",onSubmit:handleSubmit,children:[alert.show&&/*#__PURE__*/_jsx(Alert,{list:list,...alert,removeAlert:showAlert}),/*#__PURE__*/_jsx(\"h3\",{children:\"Grocery Bag\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"grocery\",placeholder:\"e.g eggs\",value:name,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:isEditing?\"Edit\":\"Submit\"})]})]}),list.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"grocery-contaienr\",children:[/*#__PURE__*/_jsx(List,{items:list,removeItem:removeItem,editeItem:editeItem}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-btn\",onClick:clearList,children:\"Clear List\"})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useTransition","List","Alert","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","getlocalstorage","data","localStorage","getItem","JSON","parse","name","setName","list","setList","isEditing","setIsEditing","editID","setEditID","alert","setAlert","show","msg","type","editeItem","id","specificItem","find","item","title","handleSubmit","e","preventDefault","showAlert","map","concat","newItem","Date","getTime","toString","arguments","length","undefined","clearList","removeItem","filter","setItem","stringify","children","className","onSubmit","removeAlert","placeholder","value","onChange","target","items","onClick"],"sources":["/Users/kunal/Desktop/My Projects/grocery-bag/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useTransition } from \"react\";\nimport List from \"./List\";\nimport Alert from \"./Alert\";\n\nfunction App() {\n  const getlocalstorage = () => {\n    const data = localStorage.getItem(\"list\");\n    if (data) {\n      return JSON.parse(data);\n    } else {\n      return [];\n    }\n  };\n  const [name, setName] = useState(\"\");\n  const [list, setList] = useState(getlocalstorage);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editID, setEditID] = useState(null);\n  const [alert, setAlert] = useState({\n    show: false,\n    msg: \"\",\n    type: \"\",\n  });\n\n  const editeItem = (id) => {\n    const specificItem = list.find((item) => item.id == id);\n    setEditID(id);\n    setIsEditing(true);\n    setName(specificItem.title);\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!name) {\n      // show alert\n      showAlert(true, \"danger\", \"Please Enter Something.\");\n    } else if (name && isEditing) {\n      // deal with editmode\n      setList(\n        list.map((item) => {\n          if (item.id === editID) {\n            return { ...item, title: name };\n          }\n          return item;\n        })\n      );\n      setAlert(true, \"success\", \"item is updated.\");\n      setEditID(null);\n      setIsEditing(false);\n      setName(\"\");\n    } else {\n      //show alert\n      showAlert(true, \"success\", `${name} just added to the list`);\n      const newItem = { id: new Date().getTime().toString(), title: name };\n      setList([...list, newItem]);\n      setName(\"\");\n    }\n  };\n\n  const showAlert = (show = false, type = \"\", msg = \"\") => {\n    setAlert({ show, type, msg });\n  };\n  const clearList = () => {\n    showAlert(true, \"danger\", \"list is cleared.\");\n    setList([]);\n    setName(\"\");\n    setEditID(null);\n    setIsEditing(false);\n  };\n  const removeItem = (id) => {\n    showAlert(true, \"danger\", `item is removed`);\n    setList(list.filter((item) => item.id != id));\n    setName(\"\");\n  };\n  useEffect(() => {\n    localStorage.setItem(\"list\", JSON.stringify(list));\n  }, [list]);\n  return (\n    <>\n      <section className=\"section-center\">\n        <form className=\"grocery-form\" onSubmit={handleSubmit}>\n          {alert.show && (\n            <Alert list={list} {...alert} removeAlert={showAlert} />\n          )}\n          <h3>Grocery Bag</h3>\n          <div className=\"form-control\">\n            <input\n              type=\"text\"\n              className=\"grocery\"\n              placeholder=\"e.g eggs\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n            <button type=\"submit\" className=\"submit-btn\">\n              {isEditing ? \"Edit\" : \"Submit\"}\n            </button>\n          </div>\n        </form>\n        {list.length > 0 && (\n          <div className=\"grocery-contaienr\">\n            <List items={list} removeItem={removeItem} editeItem={editeItem} />\n            <button className=\"clear-btn\" onClick={clearList}>\n              Clear List\n            </button>\n          </div>\n        )}\n      </section>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}